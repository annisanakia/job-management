(()=>{"use strict";!function(t){var e=Swal.mixin({customClass:{confirmButton:"btn btn-outline-danger px-3 ms-2",cancelButton:"btn btn-outline-secondary px-3"},buttonsStyling:!1});window.swalDeleteButtons=e;var a=Swal.mixin({customClass:{confirmButton:"btn btn-outline-success px-3 ms-2",cancelButton:"btn btn-outline-secondary px-3"},buttonsStyling:!1});window.swalSaveButtons=a;var i=Swal.mixin({position:"bottom-end",showConfirmButton:!1,timerProgressBar:!0,timer:4e3,toast:!0});window.swalToast=i,window.getData=function(a,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>4?arguments[4]:void 0;if(""!=i&&null!=i||(i="#container"),""!=o&&null!=o||(o="#skeleton"),!(arguments.length>3&&void 0!==arguments[3])||arguments[3]){var s=t(o).html();""==s||null==s?t(i).append('<div class="loading d-flex justify-content-center align-items-center"><img src="'+assetImg+'/loader.gif" width="70px"/></div>'):t(i).html(s)}t.ajax({url:a,type:"GET",data:n,success:function(e){t(i).html(e),t(".selectpicker").selectpicker("refresh"),t(".btn-loading").removeAttr("disabled")},error:function(a){t(".btn-loading").removeAttr("disabled");var i=a.responseJSON?a.responseJSON.message:"",n="Something Wrong";"Unauthenticated."==i&&(n="Unauthenticated"),e.fire("Warning !",n,"error").then((function(t){t.isConfirmed&&"Unauthenticated."==i&&location.reload()}))}})},window.postData=function(a,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};""!=i&&null!=i||(i="#container"),(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&t(i).append('<div class="loading d-flex justify-content-center align-items-center"><img src="'+assetImg+'/loader.gif" width="70px"/></div>'),t.ajax({url:a,type:"POST",data:n,processData:!1,contentType:!1,success:function(e){t(i).html(e),t(".selectpicker").selectpicker("refresh"),t(".btn-loading").removeAttr("disabled")},error:function(a){t(".btn-loading").removeAttr("disabled"),e.fire("Warning !","Something Wrong","error")}})},window.getFilter=function(e){var a=e.val().toLowerCase(),i=e.attr("data-target"),n=0,o=!1;""!=i&&null!=i||(i=".item"),t(i+":not(.empty)").filter((function(){o=t(this).find(".filterText").text().toLowerCase().indexOf(a)>-1,t(this).toggle(o),n+=1==o?1:0})),n<=0?t(i+".empty").toggle(!0):t(i+".empty").toggle(!1)},window.getLoader=function(t){t.hasClass("btn-loading")&&(t.attr("disabled",!0),t.html("<i class='fas fa-circle-notch fa-spin'></i>"))}}(jQuery),$("a.btn-loading").on("click",(function(){var t=$(this).attr("disabled");if(void 0!==t&&!1!==t)return!1;$(this).attr("disabled",!0),$(this).html("<i class='fas fa-circle-notch fa-spin'></i>")})),$(".delete-list").on("click",(function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this),a=e.attr("href"),i=e.attr("data-name"),n='Are you sure delete data "'+i+'"?';if(""==i||null==i)n="Are you sure delete this data?";swalDeleteButtons.fire({title:n,text:"Data that has been deleted cannot be restored and will delete all the relationship data",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",reverseButtons:!0}).then((function(t){t.isConfirmed?$.ajax({url:a,data:{},type:"POST",success:function(t){1==t.status_failed?swalDeleteButtons.fire("Delete Failed !!",t.message,"error"):swalDeleteButtons.fire("Data deleted!","Data deleted successfully.","success").then((function(){$(".page-item.active")[0]?$(".page-item.active .page-link").click():e.closest("form").submit()}))},error:function(t,e,a){swalDeleteButtons.fire("Warning !","Something Wrong","error")}}):(t.dismiss,Swal.DismissReason.cancel)}))})),$(".delete").on("click",(function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this),a=e.attr("href"),i=e.attr("data-name"),n='Are you sure delete data "'+i+'"?';if(""==i||null==i)n="Are you sure delete this data?";swalDeleteButtons.fire({title:n,text:"Data that has been deleted cannot be restored and will delete all the relationship data",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",reverseButtons:!0}).then((function(t){t.isConfirmed?$.ajax({url:a,data:{},type:"POST",success:function(t){1==t.status_failed?swalDeleteButtons.fire("Delete Failed !!",t.message,"error"):swalDeleteButtons.fire("Data deleted!","Data deleted successfully.","success").then((function(){window.location.reload(!0)}))},error:function(t,e,a){swalDeleteButtons.fire("Warning !","Something Wrong","error")}}):(t.dismiss,Swal.DismissReason.cancel)}))})),$(".delete-data").on("click",(function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this),a=e.attr("href"),i=e.attr("data-target");""!=i&&null!=i||(i="#container"),swalDeleteButtons.fire({title:"Are you sure delete this data?",text:"Data that has been deleted cannot be restored",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",reverseButtons:!0}).then((function(t){t.isConfirmed?$.ajax({url:a,data:{},type:"POST",success:function(t){1==t.status_failed?swalDeleteButtons.fire("Delete Failed !!",t.message,"error"):swalDeleteButtons.fire("Data deleted!","Data deleted successfully.","success").then((function(){$(i).html(t)}))},error:function(t){swalDeleteButtons.fire("Warning !","Something Wrong","error")}}):(t.dismiss,Swal.DismissReason.cancel)}))})),$("#change-switch").on("click",".group-switch",(function(t){$(this).hasClass("disabled")?($(this).removeClass("disabled"),$(this).parent("tr").find(".access").removeAttr("disabled"),$(this).parent("tr").find(".text-input").removeAttr("disabled")):($(this).addClass("disabled"),$(this).parent("tr").find(".access").attr("disabled",!0),$(this).parent("tr").find(".text-input").attr("disabled",!0))})),$("form:not(.form-validation-ajax)").submit((function(t){getLoader($(this).find('button[type="submit"]'))})),$(".form-validation-ajax:not(.order-link)").submit((function(t){getLoader($(this).find('button[type="submit"]'))})),$(".form-validation-ajax").submit((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("action"),a=$(this).attr("data-target"),i=$(this).serialize(),n=$(this).attr("data-skeleton");getData(e,a,i,!0,n)})),$(".form-validation-ajax .page-link").click((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("href"),a=$(".form-validation-ajax").attr("data-target"),i=$(".form-validation-ajax").serialize(),n=$(".form-validation-ajax").attr("data-skeleton");getData(e,a,i,!0,n)})),$(".form-validation-ajax .order-link").click((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("href"),a=$(".form-validation-ajax").attr("data-target"),i=$(".form-validation-ajax :not(.order-input)").serialize(),n=$(".form-validation-ajax").attr("data-skeleton");getData(e,a,i,!0,n)})),$(".button-collapse").on("click",(function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("data-id"),a=$(this).attr("href"),i=".detail_list_"+e;$(this).find("i").hasClass("fas fa-plus")?($(this).find("i").removeClass("fas fa-plus"),$(this).find("i").addClass("fas fa-minus"),$.ajax({url:a,type:"GET",data:{},success:function(t){$(i).html(t)},error:function(t){$(".btn-loading").removeAttr("disabled");var e=t.responseJSON?t.responseJSON.message:"",a="Something Wrong";"Unauthenticated."==e&&(a="Unauthenticated"),swalDeleteButtons.fire("Warning !",a,"error").then((function(t){t.isConfirmed&&"Unauthenticated."==e&&location.reload()}))}})):($(this).find("i").removeClass("fas fa-minus"),$(this).find("i").addClass("fas fa-plus"),$(i).html(""))})),$(".form-ajax-post").submit((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("action"),a=$(this).attr("data-target"),i=new FormData(this);postData(e,a,i)})),$(".nav-process .tab-list").click((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("data-href"),a=$(this).attr("data-target"),i=$(this).attr("data-id"),n=$(this).attr("data-skeleton");""!=i&&getData(e,a,{id:i},!0,n)})),$(".nav-button-tab .tab-list").click((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("data-href"),a=$(this).attr("data-target"),i=$(this).attr("data-skeleton");getData(e,a,{},!0,i)})),$(".ajax-link").click((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("data-href"),a=$(this).attr("data-target"),i=$(this).attr("data-form"),n=$(this).attr("data-skeleton"),o={};if("true"==i)o=$(this).closest(".form-ajax-link").serialize();getData(e,a,o,!0,n)})),$(".remove-list").click((function(t){$(this).closest("tr").remove()})),$(".checkbox-group").click((function(t){$(".checkbox").not(this).prop("checked",this.checked)})),$(".filterInput").on("keyup",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),getFilter($(this))})),$(".btn-submit-check").click((function(t){var e=$(this).closest(".modal");0===e.find(".checkbox:checked").length?(swalToast.fire("Warning !","Please checklist at least one data before submitting","error"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()):e.modal("toggle")})),$(".btn-fullscreen").click((function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=$(this).attr("data-target");""!=e&&null!=e||(e="#container"),$(e).toggleClass("fullscreen"),$(e).toggleClass("overflow-scroll"),$(".main-header").toggleClass("position-static"),$(".sidebar").toggleClass("d-none"),$(".nav-button-tab").toggleClass("d-none"),$(".logo-header").toggleClass("position-static"),$(".footer").toggleClass("position-static"),$(".sidebar-wrapper.scrollbar.scrollbar-inner").toggleClass("position-static"),$(".main-panel").toggleClass("height-unset"),$(this).find("i").toggleClass("fa-expand"),$(this).find("i").toggleClass("fa-compress")}))})();